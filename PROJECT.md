# PROJECT.md（Antigravityが必ず読むプロジェクトの中核）

## Core Topics（常に先頭に来る目次）
- このプロジェクトの目的（簡潔）
- 世界観・UXの方向性
- 使用する技術（Pages / Workers / Render.com など）
- 設計原則（スケーラブル、モジュール化など）
- 依存している仕様書（ARCHITECTURE.md）
- フォルダ構成の大枠
- 実装方針の大きなルール
- **AIエージェント（Gemini / Antigravity / GPT）は、このドキュメントを最優先で参照すること**
- **ARCHITECTURE.md を必ず参照し、PROJECT.md と整合性を保ちながら実装・修正すること**



### 1. このプロジェクトの目的（簡潔）
ユーザーに**「まるで女の子のiPhoneを覗き見ているかのような没入感」**を提供し、課金により**「秘密が解放されるカタルシス」**を与える、サブスクリプション型有料写真ギャラリーサービスを構築する。

### 2. 世界観・UXの方向性
* **デザイン:** iPhoneの「写真」アプリ（iOS ダークモード）をピクセルレベルで再現し、Webサイトであることを忘れさせるネイティブな操作感を目指す。
* **体験:** 「課金前の焦らし（戦略的なぼかしと透かし）」と「課金後の喜び（アニメーションを伴うコンテンツ解放）」の**落差を最大化**する。
* **ターゲット:** OnlyFansや推し活文化に理解があり、プライベートなコンテンツに価値を見出すユーザー。

### 3. 使用する技術
* **ホスティング & UI:** Cloudflare Pages (フロントエンド)
* **動的処理 & API:** Cloudflare Workers (認証、コンテンツ出し分けロジック)
* **データベース:** Cloudflare D1 (顧客データ、コンテンツメタデータ管理)
* **ストレージ:** Cloudflare R2 (画像ファイル、透かしPNGの保存)
* **認証:** X (旧Twitter) Oauth 認証 (後回し)
* **開発環境:** Antigravity (メインIDE)、GitHub Actions (デプロイ自動化)

### 4. 設計原則
* **費用効率:** 非課金ユーザーのアクセスでは、Cloudflare Workers/D1などの**従量課金リソースを一切使用しない**設計を徹底する（R2/Pagesの静的配信に限定）。
* **スケーラビリティ:** Cloudflareのサーバーレスアーキテクチャを活用し、アクセス急増に耐えられる設計とする。
* **モジュール化:** UI (Pages) と ロジック (Workers) を完全に分離し、開発と保守を容易にする。

### 5. 依存している仕様書
* ARCHITECTURE.md (別途、データフローや API 定義を詳細に記載する)

### 6. フォルダ構成の大枠
* `/pages` または `/src`: Next.js/React ベースの UI コード（Pages用）
* `/workers`: Cloudflare Workers のコード (TypeScript/JavaScript)
* `/assets`: 透かしPNG、ローディング画像など静的リソース
* `/scripts`: 管理者用 ZIP 処理スクリプト（GCP/AWSへのトリガーコードなど）

### 7. 実装方針の大きなルール
* **認証優先度:** UIのプロトタイプが完了するまで、X Oauth認証の実装は開始しない。
* **画像処理:** 初期段階ではローカルで加工したぼかし画像を R2 に手動アップロードし、自動化（Cloud Functions）は後続フェーズとする。
* **デザイン:** CSSで `backdrop-filter: blur()` を多用し、iOSのすりガラス効果を徹底的に再現する。

### 8. AIエージェントへの指示
* **AIエージェント（Gemini / Antigravity / GPT）は、このドキュメントを最優先で参照すること。**
* **ARCHITECTURE.md を必ず参照し、PROJECT.md と整合性を保ちながら実装・修正すること。**

---

この定義案に基づき、早速「**iPhone ライクな UI の再現**」に着手しましょう。

**次のステップ:** **ナビゲーションバー（ヘッダー）のすりガラス効果とグリッドの CSS 設計**に進みます。
