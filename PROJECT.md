# Frozen-site: Chika Premium Album Project

## 概要
Chikaさんの特別予告アルバムを、iOSのような洗練されたUI/UXで提供するクローズド・ギャラリー。
「高級感」「限定感」「鉄壁の保護」をテーマに、最新のウェブ技術を駆使して構築されています。

## 実装済み機能

### 1. デザイン & エステティクス (Antigravity UI/UX Pro Max)
*   **ラグジュアリー・ブラック & ゴールド**: 漆黒の背景にシャンパンゴールド（#E0CA82）のアクセントを加えたiOSインスパイアなデザイン。
*   **グラスモフィズム**: 強力な背後ぼかし（Backdrop Blur）を活用したヘッダーとフッター。
*   **レスポンシブ・フォトグリッド**: 3カラムの美しく整理されたタイルレイアウト。

### 2. インテリジェント・ビューイング
*   **フルスキャン・スワイプビューアー**: `scroll-snap` を利用した、ネイティブアプリのような1枚ずつの滑らかなスワイプ体験。
*   **スマート・レジーローディング**: 表示中および前後の画像のみを読み込み、高速な表示を実現。
*   **セーフ・クローズ**: 右上に配置された半透明の閉じるボタン、および背景タップでの即時終了。

### 3. セキュリティ & アンロック
*   **カスタム・パスコード・モーダル**: ネイティブのダイアログを排除し、サイトの世界観を壊さないパスワード入力UI。
*   **4桁認証**: パスコード「1192」による認証。誤入力時にはiOS風のシェイクアニメーションで通知。
*   **モバイル最適化入力**: 数値キーボードが自動で立ち上がる `inputmode="numeric"` 対応。

### 4. 管理者専用機能 (Admin Panel)
*   **URL**: `/admin`
*   **アルバム・ソーター**: 管理専用画面からドラッグ＆ドロップで画像を自在に並べ替え可能。
*   **リアルタイム反映**: Cloudflare KV（キーバリューストア）と連携し、管理者の操作が即座に全ユーザーの画面に反映される。

### 5. 鉄壁のプロテクション (Screenshot Guard)
*   **ブラインド・ガード (無効化)**: マルチタスク画面への切り替えやコントロールセンター展開時に画面を黒塗りする機能を、ユーザー体験優先のため一度無効化。
*   **ロングプレス禁止**: 画像の長押し保存メニューを無効化。
*   **動的 SAMPLE 透かし**: アンロック後、1枚目の画像にのみ、水平・全幅の「SAMPLE」透かし（不透明度50%）を動的に重層。
*   **管理者バイパス**: 管理画面に一度ログインした端末では、オーナー自身の利便性のため、これらの制限が自動解除される仕様。

### 6. 集客・配信最適化
*   **高精度カウントダウン**: 100分の1秒まで刻む超精密タイマー（10ms更新）で緊急性を演出。
*   **動的フッター文言**: `footer-content.md` を編集するだけで、フッターの案内文をいつでも更新可能。
*   **戦略的OGP**: 
    *   Discord表示に最適化された **スクエア(1:1)** 形式。
    *   「今夜0時解禁」のキャッチコピー入り。
    *   オーナー提供画像ベースの高級感ある告知カード。
*   **フッターの特大タイマー**: エンドロールの締めくくりに、緊急性を強調するシャンパンゴールドの特大カウントダウンを表示。

### 7. 特殊制御 (APP_CONFIG)
チャットでの口頭指示により、サイトの機能を即座に切り替える「フィーチャー・フラグ」を導入しました。
*   **指令: 「ビューアーをオフにして」** -> `enableFullscreenViewer: false` (巨大画像表示を無効化)
*   **指令: 「ビューアーをオンにして」** -> `enableFullscreenViewer: true` (巨大画像表示を有効化)
*   **指令: 「ビューアーをフル画面にして」** -> `viewerMode: 'fullscreen'` (標準の大きな表示)
*   **指令: 「ビューアーをミニにして」** -> `viewerMode: 'mini'` (画面中央に浮かぶ小窓モード)

## 技術スタック
*   **Frontend**: Vanilla JS, CSS3, HTML5
*   **Backend**: Cloudflare Pages Functions
*   **Database**: Cloudflare KV (FROZEN_KV)
*   **Generator**: Python (Pillow) for OGP Generation
*   **Deployment**: Wrangler / Cloudflare Pages (Deploy-on-Push)
*   **Feature Control**: APP_CONFIG (Feature Toggle system)
